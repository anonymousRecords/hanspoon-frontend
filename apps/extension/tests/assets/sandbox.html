<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Highlighter Extension Sandbox - ê¸°ìˆ ì  ì—£ì§€ ì¼€ì´ìŠ¤</title>
    <style>
        :root { --highlight-color: #E9D2FD; }
        body { font-family: sans-serif; line-height: 1.6; padding: 50px; color: #333; }
        .test-section { border: 2px solid #eee; padding: 20px; margin-bottom: 40px; border-radius: 12px; }
        .section-title { font-weight: bold; font-size: 1.2rem; margin-bottom: 15px; color: #6200ee; border-bottom: 2px solid #6200ee; display: inline-block; }
        
        /* Case 1: Mixed Nodes */
        .mixed-box { background: #f9f9f9; padding: 15px; border-radius: 8px; }
        
        /* Case 2: Scroll Position */
        .scroll-outer { height: 150px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; position: relative; }
        .scroll-content { height: 500px; padding-top: 50px; }

        /* Case 3: CSS Transform */
        .transform-box { 
            transform: scale(0.9) rotate(-1deg) translateX(20px); 
            background: #fff0f0; padding: 20px; margin: 20px 0;
            border: 1px solid #ff7e7e;
        }

        /* Case 4: Performance / Load */
        .load-container { max-height: 200px; overflow-y: auto; font-size: 0.9rem; background: #f0f4f8; padding: 10px; }
        .load-item { margin-bottom: 4px; border-bottom: 1px solid #e0e0e0; }

        /* Image for Exclusion Test */
        .test-image { width: 200px; height: 100px; background: #ddd; display: flex; align-items: center; justify-content: center; margin: 10px 0; }
        
        /* Highlight Style */
        .hanspoon-highlight { background-color: var(--highlight-color) !important; }
    </style>
</head>
<body>
    <h1>ğŸ›  ìµìŠ¤í…ì…˜ ê¸°ìˆ  ê²€ì¦ ìƒŒë“œë°•ìŠ¤</h1>

    <section class="test-section" id="core-mixed-test">
        <div class="section-title">1. ê³µí†µ í•µì‹¬ & Mixed Nodes</div>
        <p class="description">ê¸°ë³¸ íˆ´ë°” ë…¸ì¶œ, ìƒ‰ìƒ(#E9D2FD), ê·¸ë¦¬ê³  íƒœê·¸ê°€ ë’¤ì„ì¸ ë¬¸ì¥ ì„ íƒì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>
        <div class="mixed-box" id="target-mixed">
            ì´ ë¬¸ì¥ì€ <strong>ë‘êº¼ìš´ ê¸€ì”¨</strong>ì™€ <em>ê¸°ìš¸ì„</em>, ê·¸ë¦¬ê³  <a href="#">ë§í¬ í…ìŠ¤íŠ¸</a>ê°€ ì„ì—¬ ìˆì–´ <span>DOM ë…¸ë“œê°€ ì˜ê²Œ</span> ìª¼ê°œì ¸ ìˆìŠµë‹ˆë‹¤. ì´ ì „ì²´ë¥¼ í•œ ë²ˆì— í•˜ì´ë¼ì´íŠ¸ í•˜ì„¸ìš”.
        </div>
        <div class="test-image" id="target-image">ì´ë¯¸ì§€ ì˜ì—­ (ë“œë˜ê·¸ ê¸ˆì§€)</div>
    </section>

    <section class="test-section" id="scroll-test">
        <div class="section-title">2. Scroll Position (Internal)</div>
        <p class="description">ë¶€ëª¨ ìš”ì†Œì— ìŠ¤í¬ë¡¤ì´ ìˆì„ ë•Œ íˆ´ë°” ì¢Œí‘œê°€ ì •í™•í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
        <div class="scroll-outer" id="target-scroll-container">
            <div class="scroll-content">
                <p>ì¤‘ê°„ ë”ë¯¸ í…ìŠ¤íŠ¸...</p>
                <p id="target-scroll-text" style="background: yellow;">[ìŠ¤í¬ë¡¤ íƒ€ê²Ÿ] ìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ì„œ ì´ ë¬¸ì¥ì„ í•˜ì´ë¼ì´íŠ¸ í•˜ì„¸ìš”.</p>
                <p>ì•„ë˜ìª½ ë”ë¯¸ í…ìŠ¤íŠ¸...</p>
            </div>
        </div>
    </section>

    <section class="test-section" id="transform-test">
        <div class="section-title">3. CSS Transform (Scale/Rotate)</div>
        <p class="description">Transformì´ ì ìš©ëœ ë ˆì´ì•„ì›ƒì—ì„œ íˆ´ë°” ìœ„ì¹˜ ì´íƒˆ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
        <div class="transform-box">
            <p id="target-transform">Transformì´ ì ìš©ëœ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤. íˆ´ë°”ê°€ ì—‰ëš±í•œ ê³³ì— ëœ¨ì§€ ì•Šë‚˜ìš”?</p>
        </div>
    </section>

    <section class="test-section" id="load-test">
        <div class="section-title">4. ì„±ëŠ¥ ë° ë¶€í•˜ í…ŒìŠ¤íŠ¸ (100ê°œ ë°˜ë³µ)</div>
        <p class="description">ë§ì€ ìˆ˜ì˜ í•˜ì´ë¼ì´íŠ¸ê°€ ë™ì‹œì— ë Œë”ë§ë  ë•Œì˜ ë ‰(Jank)ì„ ì¸¡ì •í•©ë‹ˆë‹¤.</p>
        <div class="load-container" id="load-container">
            </div>
    </section>

    <script>
        // ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ 100ê°œ ë¬¸ì¥ ìƒì„±
        const container = document.getElementById('load-container');
        for (let i = 1; i <= 100; i++) {
            const div = document.createElement('div');
            div.className = 'load-item';
            div.id = `load-item-${i}`;
            div.textContent = `${i}. í•œìŠ¤í‘¼ì— ë§ì€ ê´€ì‹¬ ê°€ì ¸ì£¼ì‹œê³ , ìì£¼ ì´ìš©í•´ ì£¼ì„¸ìš”.`;
            container.appendChild(div);
        }

        // íŠ¹ì • ID í•˜ì´ë¼ì´íŠ¸ ì‚­ì œ ê¸°ëŠ¥ì„ ìœ„í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ì„ íƒ ì‚¬í•­)
        window.addEventListener('message', (event) => {
            if (event.data.type === 'CHECK_MEMORY') {
                console.log('ë©”ëª¨ë¦¬ ì²´í¬ ë¡œê·¸ ì¶œë ¥...');
            }
        });
    </script>
</body>
</html>